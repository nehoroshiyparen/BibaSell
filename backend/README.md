# Планы на разработку
Эту штуку я решил создать, потому что мне нужно иметь представление, что делать дальше, какому плану следовать. А то без этого теряешься в разработке

### 07.08.25
Сейчас у меня готов простой функционал связанный с Людьми и Наградами, поэтому нужно подумать что нужно делать дальше

Мастхев:
 - Функционал со статьями
 - Дизайнерское тз

Второстепенное:
 - Логгер для бека

Окей, вроде ничего сложного нет, зато теперь есть представление. Круто

### 09.08.2025
Ну я взялся за статьи, поэтому думаю, что сейчас их создание хотя б доделаю, ну может и обновление тогда сразу, и приступлю к тз

Мастхев:
 - Сделать слаггинг для названия ( надеюсь я правильно сказал )
 - Сделать парсер хедингов
 - Сделать парсер markwon -> html. Но сначала я должен определить, как у меня должна выглядеть эта статья и что в ней должно быть чтобы иметь понимание, как делать этот парсер

Сразу запишу зедсь примерные идеи того, что будет в статье:
 1. Текст с форматированием
 2. Красная строка ( два первых пункта просто бомба, я согласен. Имба )
 3. Одиночные фото ( у фото и альбомов нужно предусмотреть наличие названия + рис. добавлять к каждому может быть )
 4. Фотоальбомы
 5. Сноски
 6. Карты
 7. Таймлайны
 8. Статистика ( Инфографика )
 9. Документы?
 10. Локальная викторина?
 11. Аудиозаписи?
 12. Сравнение фото?
 13. Генеалогические древа? ( совсем сомнительно.. нооооо окэээээй... )

Пример визуализации статьи можно брать здесь: https://thecode.media/. Хороший вариант, мне нравится прост

### 10.08.25
Кароче говоря, как будет реализовываться работа со статьями...
 - Сделаю самодельный ssg на серваке. В бд сохраняю только маркдаун. Буду при отдаче на клиент рендерить этот маркдаун в html и отдавать его
 - А ну и нужно добавить редис для кеширования этих html статей, и только при изменении маркдауна, менять этот html в редисе
 - Асталавис та бебе

 **BibaCell** вперед

### 17.08.25 
Нужно переделать методы в апи. 
 - getFilteredRewards к примеру. Его возвращаемые данные не те. Он возвращает всю сущность Rewards, а при поиске по фильтрам мне нужно только превью награды. **Но с другой стороны** это же хорошо, потому что при поиске по фильтрам я могу видеть всю инфу о наградах. Кароче здесь есть плюсы и минусы. А делать поиск, который возвращает отдельно превью, я не знаю.... можно, но пока что чет..... не

### КАРОЧЕ
Я чет думаю что мне нужно начать тестить апи, потому что я его все еще не тестил епт. Я ждал пока мне данные дадут , а мне их никто так и не дал. Поэтому свое чет буду делать. Мда.....

 - Нужно сделать обработку ошибок от Зода !!!
    

### 26.09.25
1. Навести порядок в моделях
    - Сделать простейший CRUD для PdfArticle (пока без файлов, без авторов):
        - createArticle (только title + extractedText)
        - getArticleById
        - getArticles
        - updateArticle
        - deleteArticle
    Результат: API возвращает и сохраняет статьи в БД.

2. Поднять ElasticSearch
    - Добавить ElasticSearch в docker-compose.yml
    - Сделать индекс pdf_articles с полями: id, title, extractedText
    - Написать сервис elastic.service.ts для операций ( ну или по другому это называется ну тип как редис ):
        - indexArticle(article: PdfArticle)
        - searchArticles(query: string)
        - deleteArticle(id: number)
    Результат: можно искать статьи по тексту/заголовку

3. Связка CRUD + ElasticSearch
    - При создании статьи → сразу индексировать её в ElasticSearch.
    - При обновлении статьи → обновлять индекс.
    - При удалении статьи → удалять из индекса.
    - Реализовать метод getFilteredArticles(text, heading, authors) так, чтобы запрос шел в ElasticSearch
    Результат: CRUD работает, поиск работает, данные синхронизируются

4. Авторы
    - Поднять Author + PdfArticleAuthors
    - В createArticle указывать список авторов
    - При getArticleById и getArticles возвращать список авторов
    - Индексировать авторов в ElasticSearch (чтобы можно было искать по ним)
    Результат: статьи привязываются к авторам, поиск по авторам возможен

5. Что пока не трогаем
    - Файлы (пусть будет extractedText строкой в базе для начала).
    - S3 / локальное хранение

### 03.10.25
1. Переписать функцию отправки ответов
2. Сделать базовый логгер
3. Проверка согласованности данных

### 22.11.25
Ну чтож, тут кароче говоря похоже намечается дедлайн. Нужно определить, что мне предстоит сделать до него:
1. Реализовать функцию на беке, которая будет заносить данные из папки внутри него в бд. То есть автоматизировать процесс заполнения ресурса контентом
2. Можно попробовать написать тесты для бека, хотя бы небольшие, и в целом самые основные. Но с другой стороны, я все руками уже проверял и в целом тогда тестов то и не нужно в целом...
3. Лучше заместо тестов написать сваггер для бека, который точно поможет людям с кб его тестить
4. На фронте нужно сделать так, чтобы картинки не перезагружались после каждого запроса к беку. Там просто какая-то шняга с методом onLoad или чет такое - Сделано
5. Сделать так , чтобы был какой-то шаблон на странице статьи, который будет отображаться пока статья еще не загрузилась - Сделано
6. Как-то сделать так, чтобы превью статей не меняли свои размеры в ленте при отрисовке - походу это нормально так что забью хуй
7. Ну и под конец конечно же сделать OVF конфиг, чтобы отнести его на тесты

Пока что так